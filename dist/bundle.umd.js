!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-tv"),require("react")):"function"==typeof define&&define.amd?define(["exports","react-tv","react"],t):t(e.ReactTVNavigation={},e["react-tv"],e.React)}(this,function(e,t,n){"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var i=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,u=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116;function h(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case l:case i:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case s:case p:case c:return e;default:return t}}case v:case y:case o:return t}}}function b(e){return h(e)===l}t.typeOf=h,t.AsyncMode=f,t.ConcurrentMode=l,t.ContextConsumer=s,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=a,t.StrictMode=u,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===a||e===u||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||h(e)===f},t.isConcurrentMode=b,t.isContextConsumer=function(e){return h(e)===s},t.isContextProvider=function(e){return h(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return h(e)===p},t.isFragment=function(e){return h(e)===i},t.isLazy=function(e){return h(e)===v},t.isMemo=function(e){return h(e)===y},t.isPortal=function(e){return h(e)===o},t.isProfiler=function(e){return h(e)===a},t.isStrictMode=function(e){return h(e)===u},t.isSuspense=function(e){return h(e)===d}});r(i);i.typeOf,i.AsyncMode,i.ConcurrentMode,i.ContextConsumer,i.ContextProvider,i.Element,i.ForwardRef,i.Fragment,i.Lazy,i.Memo,i.Portal,i.Profiler,i.StrictMode,i.Suspense,i.isValidElementType,i.isAsyncMode,i.isConcurrentMode,i.isContextConsumer,i.isContextProvider,i.isElement,i.isForwardRef,i.isFragment,i.isLazy,i.isMemo,i.isPortal,i.isProfiler,i.isStrictMode,i.isSuspense;var u=o(function(e,t){"production"!==process.env.NODE_ENV&&function(){Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,u=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116;var v=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}};function h(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var v=e.type;switch(v){case s:case f:case o:case u:case i:case p:return v;default:var h=v&&v.$$typeof;switch(h){case c:case l:case a:return h;default:return t}}case y:case d:case r:return t}}}var b=s,m=f,g=c,w=a,E=n,O=l,P=o,_=y,S=d,j=r,x=u,F=i,M=p,C=!1;function T(e){return h(e)===f}t.typeOf=h,t.AsyncMode=b,t.ConcurrentMode=m,t.ContextConsumer=g,t.ContextProvider=w,t.Element=E,t.ForwardRef=O,t.Fragment=P,t.Lazy=_,t.Memo=S,t.Portal=j,t.Profiler=x,t.StrictMode=F,t.Suspense=M,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===u||e===i||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===d||e.$$typeof===a||e.$$typeof===c||e.$$typeof===l)},t.isAsyncMode=function(e){return C||(C=!0,v(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),T(e)||h(e)===s},t.isConcurrentMode=T,t.isContextConsumer=function(e){return h(e)===c},t.isContextProvider=function(e){return h(e)===a},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return h(e)===l},t.isFragment=function(e){return h(e)===o},t.isLazy=function(e){return h(e)===y},t.isMemo=function(e){return h(e)===d},t.isPortal=function(e){return h(e)===r},t.isProfiler=function(e){return h(e)===u},t.isStrictMode=function(e){return h(e)===i},t.isSuspense=function(e){return h(e)===p}}()});r(u);u.typeOf,u.AsyncMode,u.ConcurrentMode,u.ContextConsumer,u.ContextProvider,u.Element,u.ForwardRef,u.Fragment,u.Lazy,u.Memo,u.Portal,u.Profiler,u.StrictMode,u.Suspense,u.isValidElementType,u.isAsyncMode,u.isConcurrentMode,u.isContextConsumer,u.isContextProvider,u.isElement,u.isForwardRef,u.isFragment,u.isLazy,u.isMemo,u.isPortal,u.isProfiler,u.isStrictMode,u.isSuspense;var a=o(function(e){"production"===process.env.NODE_ENV?e.exports=i:e.exports=u}),c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var l=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var u in n=Object(arguments[i]))s.call(n,u)&&(o[u]=n[u]);if(c){r=c(n);for(var a=0;a<r.length;a++)f.call(n,r[a])&&(o[r[a]]=n[r[a]])}}return o},p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",d=function(){};if("production"!==process.env.NODE_ENV){var y=p,v={},h=Function.call.bind(Object.prototype.hasOwnProperty);d=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function b(e,t,n,r,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(h(e,i)){var u;try{if("function"!=typeof e[i]){var a=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw a.name="Invariant Violation",a}u=e[i](t,i,r,n,null,y)}catch(e){u=e}if(!u||u instanceof Error||d((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in v)){v[u.message]=!0;var c=o?o():"";d("Failed "+n+" type: "+u.message+(null!=c?c:""))}}}b.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(v={})};var m=b,g=Function.call.bind(Object.prototype.hasOwnProperty),w=function(){};function E(){return null}"production"!==process.env.NODE_ENV&&(w=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var O=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";var o="<<anonymous>>",i={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:s(E),arrayOf:function(e){return s(function(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u)){var a=y(u);return new c("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+r+"`, expected an array.")}for(var s=0;s<u.length;s++){var f=e(u,s,r,o,i+"["+s+"]",p);if(f instanceof Error)return f}return null})},element:function(){return s(function(t,n,r,o,i){var u=t[n];if(!e(u)){var a=y(u);return new c("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),elementType:function(){return s(function(e,t,n,r,o){var i=e[t];if(!a.isValidElementType(i)){var u=y(i);return new c("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+n+"`, expected a single ReactElement type.")}return null})}(),instanceOf:function(e){return s(function(t,n,r,i,u){if(!(t[n]instanceof e)){var a=e.name||o,s=function(e){if(!e.constructor||!e.constructor.name)return o;return e.constructor.name}(t[n]);return new c("Invalid "+i+" `"+u+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:function(){return s(function(e,t,n,r,o){if(!d(e[t]))return new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return s(function(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],a=y(u);if("object"!==a)return new c("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+r+"`, expected an object.");for(var s in u)if(g(u,s)){var f=e(u,s,r,o,i+"."+s,p);if(f instanceof Error)return f}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&(arguments.length>1?w("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):w("Invalid argument supplied to oneOf, expected an array.")),E;return s(function(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;var f=JSON.stringify(e,function(e,t){var n=v(t);return"symbol"===n?String(t):t});return new c("Invalid "+o+" `"+i+"` of value `"+String(a)+"` supplied to `"+r+"`, expected one of "+f+".")})},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&w("Invalid argument supplied to oneOfType, expected an instance of array."),E;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return w("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+h(n)+" at index "+t+"."),E}return s(function(t,n,r,o,i){for(var u=0;u<e.length;u++){var a=e[u];if(null==a(t,n,r,o,i,p))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")})},shape:function(e){return s(function(t,n,r,o,i){var u=t[n],a=y(u);if("object"!==a)return new c("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+r+"`, expected `object`.");for(var s in e){var f=e[s];if(f){var l=f(u,s,r,o,i+"."+s,p);if(l)return l}}return null})},exact:function(e){return s(function(t,n,r,o,i){var u=t[n],a=y(u);if("object"!==a)return new c("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+r+"`, expected `object`.");var s=l({},t[n],e);for(var f in s){var d=e[f];if(!d)return new c("Invalid "+o+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var v=d(u,f,r,o,i+"."+f,p);if(v)return v}return null})}};function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function c(e){this.message=e,this.stack=""}function s(e){if("production"!==process.env.NODE_ENV)var n={},r=0;function i(i,u,a,s,f,l,d){if(s=s||o,l=l||a,d!==p){if(t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var v=s+":"+a;!n[v]&&r<3&&(w("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+s+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[v]=!0,r++)}}return null==u[a]?i?null===u[a]?new c("The "+f+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`."):new c("The "+f+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(u,a,s,f,l)}var u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function f(e){return s(function(t,n,r,o,i,u){var a=t[n];return y(a)!==e?new c("Invalid "+o+" `"+i+"` of type `"+v(a)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var o=function(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}(t);if(!o)return!1;var i,u=o.call(t);if(o!==t.entries){for(;!(i=u.next()).done;)if(!d(i.value))return!1}else for(;!(i=u.next()).done;){var a=i.value;if(a&&!d(a[1]))return!1}return!0;default:return!1}}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function v(e){if(void 0===e||null===e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function h(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return c.prototype=Error.prototype,i.checkPropTypes=m,i.resetWarningCache=m.resetWarningCache,i.PropTypes=i,i};function P(){}function _(){}_.resetWarningCache=P;var S=o(function(e){if("production"!==process.env.NODE_ENV){var t=a;e.exports=O(t.isElement,!0)}else e.exports=function(){function e(e,t,n,r,o,i){if(i!==p){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_,resetWarningCache:P};return n.PropTypes=n,n}()}),j=r(o(function(e,t){t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}})),x=o(function(e,t){t.__esModule=!0;t.default=function(e,t){return function(n){return n[e]=t,n}}});r(x);var F=o(function(e,t){t.__esModule=!0;var n,r=(n=x)&&n.__esModule?n:{default:n};t.default=function(e){return(0,r.default)("displayName",e)}});r(F);var M=o(function(e,t){t.__esModule=!0;t.default=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0}});r(M);var C=o(function(e,t){t.__esModule=!0;var n,r=(n=M)&&n.__esModule?n:{default:n};t.default=function(e,t){return t+"("+(0,r.default)(e)+")"}});r(C);var T=r(o(function(e,t){t.__esModule=!0;var r=i(F),o=i(C);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){var i=(0,n.createFactory)(t),u=function(t){return i(e(t))};return"production"!==process.env.NODE_ENV?(0,r.default)((0,o.default)(t,"mapProps"))(u):u}}})),k=r(o(function(e,t){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(F),i=u(C);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){var u=(0,n.createFactory)(t);"production"!==process.env.NODE_ENV&&e.hasOwnProperty("render")&&console.error("lifecycle() does not support the render method; its behavior is to pass all props and state to the base component.");var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return u(r({},this.props,this.state))},t}(n.Component);return Object.keys(e).forEach(function(t){return a.prototype[t]=e[t]}),"production"!==process.env.NODE_ENV?(0,o.default)((0,i.default)(t,"lifecycle"))(a):a}}})),N=r(o(function(e,t){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(F),i=u(C);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){var u=(0,n.createFactory)(t),a=function(e,t){return u(r({},e,t))};return a.contextTypes=e,"production"!==process.env.NODE_ENV?(0,o.default)((0,i.default)(t,"getContext"))(a):a}}})),I=r(o(function(e,t){t.__esModule=!0;var n,r=(n=x)&&n.__esModule?n:{default:n};t.default=function(e){return(0,r.default)("propTypes",e)}})),A=o(function(e,t){t.__esModule=!0;t.default=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n}});r(A);var R=r(o(function(e,t){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(F),i=a(C),u=a(A);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){return function(t){var a=(0,n.createFactory)(t),s=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(i))),f.call(r),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},t.prototype.render=function(){return a(r({},this.props,this.handlers))},t}(n.Component),f=function(){var t=this;this.cachedHandlers={},this.handlers=(0,u.default)("function"==typeof e?e(this.props):e,function(e,n){return function(){var r=t.cachedHandlers[n];if(r)return r.apply(void 0,arguments);var o=e(t.props);return t.cachedHandlers[n]=o,"production"!==process.env.NODE_ENV&&"function"!=typeof o&&console.error("withHandlers(): Expected a map of higher-order functions. Refer to the docs for more info."),o.apply(void 0,arguments)}})};return"production"!==process.env.NODE_ENV?(0,o.default)((0,i.default)(t,"withHandlers"))(s):s}}})),$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V={selector:"",straightOnly:!1,straightOverlapThreshold:.5,rememberSource:!1,disabled:!1,defaultElement:"",enterTo:"",leaveFor:null,restrict:"self-first",tabIndexIgnoreList:[],navigableFilter:null},L={37:"left",38:"up",39:"right",40:"down"},H={left:"right",up:"down",right:"left",down:"up"},W="sn:",q="section-",z=0,U=!1,K=!1,Y={},B=0,J="",G="",Q=!1,X=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||function(e){var t=(this.parentNode||this.document).querySelectorAll(e);return[].slice.call(t).indexOf(this)>=0};function Z(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height,parent:e.parentElement};return n.element=e,n.center={x:n.left+Math.floor(n.width/2),y:n.top+Math.floor(n.height/2)},n.center.left=n.center.right=n.center.x,n.center.top=n.center.bottom=n.center.y,n}var ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.left-t.left<-n},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.left-t.left>n},ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.top-t.top>n},re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.top-t.top<-n},oe=function(e,t){return t.map(function(t){return D({},t,{distance:Math.hypot(t.left-e.left,t.top-e.top)})}).sort(function(e,t){return e.distance-t.distance})};function ie(e,t,n,r){if(!(e&&t&&n&&n.length))return null;for(var o,i,u=Z(e),a=e.getAttribute("data-layer")||1,c=e.getAttribute("data-free-navigation"),s=[],f=0;f<n.length;f++){var l=Z(n[f]),p=n[f].getAttribute("data-layer")||1;if(l&&p===a)switch(t){case"right":ee(u,l,20)&&s.push(l);break;case"left":te(u,l,20)&&s.push(l);break;case"up":ne(u,l,20)&&s.push(l);break;case"down":re(u,l,20)&&s.push(l)}}var d=[];switch(t){case"up":var y=s.filter(function(e){return!(e.right<=u.left||u.right<=e.left)});if(d=(o=y.sort(function(e,t){return t.center.bottom-e.center.bottom})).length?o.filter(function(e){return e.top===o[0].top}):[],!(o=oe(u,d)).length){var v=s.length?s.sort(function(e,t){return t.top-e.top})[0].top:null;if(v){var h=s.filter(function(e){return v-e.top<=20});o=oe(u,h)}}break;case"down":var b=s.filter(function(e){return!(e.right<=u.left||u.right<=e.left)});if(d=(o=b.sort(function(e,t){return e.center.top-t.center.top})).length?o.filter(function(e){return e.top===o[0].top}):[],!(o=oe(u,d)).length&&c){var m=s.length?s.sort(function(e,t){return e.top-t.top})[0].top:null;if(m){var g=s.filter(function(e){return e.top-m<=20});o=oe(u,g)}}break;case"left":case"right":var w=s.filter(function(e){return!(e.bottom<=u.top||u.bottom<=e.top)});o=oe(u,w)}return o?(i=o.filter(function(e){return e.parent===u.parent})).length?i[0].element:o[0]?o[0].element:e:e}function ue(e){return"string"==typeof e?[].slice.call(document.querySelectorAll(e)):"object"===(void 0===e?"undefined":$(e))&&e.length?[].slice.call(e):"object"===(void 0===e?"undefined":$(e))&&1===e.nodeType?[e]:[]}function ae(e,t){return"string"==typeof t?X.call(e,t):"object"===(void 0===t?"undefined":$(t))&&t.length?t.indexOf(e)>=0:"object"===(void 0===t?"undefined":$(t))&&1===t.nodeType&&e===t}function ce(){var e=document.activeElement;if(e&&e!==document.body)return e}function se(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&void 0!==arguments[t][n]&&(e[n]=arguments[t][n]);return e}function fe(e,t){Array.isArray(t)||(t=[t]);for(var n,r=0;r<t.length;r++)(n=e.indexOf(t[r]))>=0&&e.splice(n,1);return e}function le(e,t,n){if(!e||!t||!Y[t]||Y[t].disabled)return!1;if(e.offsetWidth<=0&&e.offsetHeight<=0||e.hasAttribute("disabled"))return!1;if(n&&!ae(e,Y[t].selector))return!1;if("function"==typeof Y[t].navigableFilter){if(!1===Y[t].navigableFilter(e,t))return!1}else if("function"==typeof V.navigableFilter&&!1===V.navigableFilter(e,t))return!1;return!0}function pe(e){for(var t in Y)if(!Y[t].disabled&&ae(e,Y[t].selector))return t}function de(e){return ue(Y[e].selector).filter(function(t){return le(t,e)})}function ye(e){var t=Y[e].defaultElement;return t?("string"==typeof t&&(t=ue(t)[0]),le(t,e,!0)?t:null):null}function ve(e){var t=Y[e]&&Y[e].lastFocusedElement;return le(t,e,!0)?t:null}function he(e,t,n,r){arguments.length<4&&(r=!0);var o=document.createEvent("CustomEvent");return o.initCustomEvent(W+t,!0,r,n),e.dispatchEvent(o)}function be(e,t,n){if(!e)return!1;var r=ce(),o="true"===e.getAttribute("data-prevent-scroll"),i=function(){e.focus({preventScroll:o}),me(e,t)};if(Q)return i(),!0;if(Q=!0,K)return i(),Q=!1,!0;if(r){var u={nextElement:e,nextSectionId:t,direction:n,native:!1};if(!he(r,"willunfocus",u))return Q=!1,!1;r.blur(),he(r,"unfocused",u,!1)}var a={previousElement:r,sectionId:t,direction:n,native:!1};return he(e,"willfocus",a)?(e.focus({preventScroll:o}),he(e,"focused",a,!1),Q=!1,me(e,t),!0):(Q=!1,!1)}function me(e,t){t||(t=pe(e)),t&&(Y[t].lastFocusedElement=e,G=t)}function ge(e,t){if("@"==e.charAt(0)){return 1==e.length?we():we(e.substr(1))}else{var n=ue(e)[0];if(n){var r=pe(n);if(le(n,r))return be(n,r,t)}}return!1}function we(e){var t=[],n=function(e){e&&t.indexOf(e)<0&&Y[e]&&!Y[e].disabled&&t.push(e)};e?n(e):(n(J),n(G),Object.keys(Y).map(n));for(var r=0;r<t.length;r++){var o,i=t[r];if(o="last-focused"==Y[i].enterTo?ve(i)||ye(i)||de(i)[0]:ye(i)||ve(i)||de(i)[0])return be(o,i)}return!1}function Ee(e,t){he(e,"navigatefailed",{direction:t},!1)}function Oe(e,t){if(Y[e].leaveFor&&void 0!==Y[e].leaveFor[t]){var n=Y[e].leaveFor[t];if("string"==typeof n)return""===n?null:ge(n,t);var r=pe(n);if(le(n,r))return be(n,r,t)}return!1}function Pe(e,t,n){var r=t.getAttribute("data-sn-"+e);if("string"==typeof r)return!(""===r||!ge(r,e))||(Ee(t,e),!1);var o={},i=[];for(var u in Y)o[u]=de(u),i=i.concat(o[u]);var a,c=se({},V,Y[n]);if("self-only"==c.restrict||"self-first"==c.restrict){var s=o[n];(a=ie(t,e,fe(s,t)))||"self-first"!=c.restrict||(a=ie(t,e,fe(i,s)))}else a=ie(t,e,fe(i,t));if(a){Y[n].previous={target:t,destination:a,reverse:H[e]};var f=pe(a);if(n!=f){var l,p=Oe(n,e);if(p)return!0;if(null===p)return Ee(t,e),!1;switch(Y[f].enterTo){case"last-focused":l=ve(f)||ye(f);break;case"default-element":l=ye(f)}l&&(a=l)}return be(a,f,e)}return!!Oe(n,e)||(Ee(t,e),!1)}function _e(e){if(!(!B||K||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var t,n=function(){return e.preventDefault(),e.stopPropagation(),!1},r=L[e.keyCode];if(!r)return 13==e.keyCode&&(t=ce())&&pe(t)&&!he(t,"enter-down")?n():void 0;if(!(t=ce())&&(G&&(t=ve(G)),!t))return we(),n();var o=pe(t);if(o)return he(t,"willmove",{direction:r,sectionId:o,cause:"keydown"})&&Pe(r,t,o),n()}}function Se(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&!K&&B&&13==e.keyCode){var t=ce();t&&pe(t)&&(he(t,"enter-up")||(e.preventDefault(),e.stopPropagation()))}}function je(e){var t=e.target;if(t!==window&&t!==document&&B&&!Q){var n=pe(t);if(n){if(K)return void me(t,n);var r={sectionId:n,native:!0};he(t,"willfocus",r)?(he(t,"focused",r,!1),me(t,n)):(Q=!0,t.blur(),Q=!1)}}}function xe(e){var t=e.target;if(t!==window&&t!==document&&!K&&B&&!Q&&pe(t)){var n={native:!0};he(t,"willunfocus",n)?he(t,"unfocused",n,!1):(Q=!0,setTimeout(function(){var e="true"===t.getAttribute("data-prevent-scroll");t.focus({preventScroll:e}),Q=!1}))}}var Fe={init:function(){U||(window.addEventListener("keydown",_e),window.addEventListener("keyup",Se),window.addEventListener("focus",je,!0),window.addEventListener("blur",xe,!0),U=!0)},uninit:function(){window.removeEventListener("blur",xe,!0),window.removeEventListener("focus",je,!0),window.removeEventListener("keyup",Se),window.removeEventListener("keydown",_e),Fe.clear(),z=0,U=!1},clear:function(){Y={},B=0,J="",G="",Q=!1},set:function(){var e,t;if("object"===$(arguments[0]))t=arguments[0];else{if("string"!=typeof arguments[0]||"object"!==$(arguments[1]))return;if(e=arguments[0],t=arguments[1],!Y[e])throw new Error('Section "'+e+"\" doesn't exist!")}for(var n in t)void 0!==V[n]&&(e?Y[e][n]=t[n]:void 0!==t[n]&&(V[n]=t[n]));e&&(Y[e]=se({},Y[e]))},add:function(){var e,t={};if("object"===$(arguments[0])?t=arguments[0]:"string"==typeof arguments[0]&&"object"===$(arguments[1])&&(e=arguments[0],t=arguments[1]),e||(e="string"==typeof t.id?t.id:function(){for(var e;e=q+String(++z),Y[e];);return e}()),Y[e])throw new Error('Section "'+e+'" has already existed!');return Y[e]={},B++,Fe.set(e,t),e},remove:function(e){if(!e||"string"!=typeof e)throw new Error('Please assign the "sectionId"!');return!!Y[e]&&(Y[e]=void 0,Y=se({},Y),B--,!0)},disable:function(e){return!!Y[e]&&(Y[e].disabled=!0,!0)},enable:function(e){return!!Y[e]&&(Y[e].disabled=!1,!0)},pause:function(){K=!0},resume:function(){K=!1},focus:function(e,t){var n=!1;void 0===t&&"boolean"==typeof e&&(t=e,e=void 0);var r=!K&&t;if(r&&Fe.pause(),e)if("string"==typeof e)n=Y[e]?we(e):ge(e);else{var o=pe(e);le(e,o)&&(n=be(e,o))}else n=we();return r&&Fe.resume(),n},move:function(e,t){if(e=e.toLowerCase(),!H[e])return!1;var n=t?ue(t)[0]:ce();if(!n)return!1;var r=pe(n);return!!r&&(!!he(n,"willmove",{direction:e,sectionId:r,cause:"api"})&&Pe(e,n,r))},makeFocusable:function(e){var t=function(e){var t=void 0!==e.tabIndexIgnoreList?e.tabIndexIgnoreList:V.tabIndexIgnoreList;ue(e.selector).forEach(function(e){ae(e,t)||e.getAttribute("tabindex")||e.setAttribute("tabindex","-1")})};if(e){if(!Y[e])throw new Error('Section "'+e+"\" doesn't exist!");t(Y[e])}else for(var n in Y)t(Y[n])},setDefaultSection:function(e){if(e){if(!Y[e])throw new Error('Section "'+e+"\" doesn't exist!");J=e}else J=""},getSectionId:pe},Me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ce=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleFocused=this.handleFocused.bind(this),this.destroy(),this.bindFocusEvent()}return Me(e,[{key:"init",value:function(e){this.setState||(this.setState=e),Fe.init(),Fe.focus(),this.bindFocusEvent()}},{key:"destroy",value:function(){this.focusedPath=null,this.setState=null,Fe.uninit(),this.unbindFocusEvent()}},{key:"bindFocusEvent",value:function(){this.listening||(this.listening=!0,document.addEventListener("sn:focused",this.handleFocused))}},{key:"unbindFocusEvent",value:function(){document.removeEventListener("sn:focused",this.handleFocused),this.listening=!1}},{key:"handleFocused",value:function(e){this.focusedPath!==e.detail.sectionId&&(this.setState(e.detail.sectionId),Fe.focus(e.detail.sectionId))}},{key:"getCurrentFocusedPath",value:function(){return this.focusedPath}},{key:"setCurrentFocusedPath",value:function(e){this.focusedPath=e,Fe.focus(e)}},{key:"addFocusable",value:function(e,t){var n=t.focusPath,r=t.onEnterPressHandler;if(e&&!Fe.getSectionId(e)){this.removeFocusable(e,{onEnterPressHandler:r});var o=[{selector:e}];n&&o.unshift(n),e.addEventListener("sn:enter-down",r);var i=Fe.add.apply(Fe,o);Fe.makeFocusable(i)}}},{key:"removeFocusable",value:function(e,t){var n=t.onEnterPressHandler,r=Fe.getSectionId(e);r&&(Fe.remove(r),e.removeEventListener("sn:enter-down",n))}}]),e}()),Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var ke=j(I({focusPath:S.string.isRequired}),N({setFocus:S.func,currentFocusPath:S.string}),T(function(e){var t=e.currentFocusPath,n=e.focusPath,r=e.setFocus,o=void 0===r?function(){}:r,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["currentFocusPath","focusPath","setFocus"]);return Te({focused:t===n,setFocus:o.bind(null,n),focusPath:n},i)}),R({onEnterPressHandler:function(e){var t=e.onEnterPress;return void 0===t?function(){}:t}}),k({addFocusable:function(){var e=this.props,n=e.focusPath,r=e.onEnterPressHandler;Ce.addFocusable(t.findDOMNode(this),{focusPath:n,onEnterPressHandler:r})},componentDidMount:function(){this.addFocusable()},componentDidUpdate:function(){this.addFocusable()},componentWillUnmount:function(){Ce.removeFocusable(t.findDOMNode(this),{onEnterPressHandler:this.props.onEnterPressHandler})}})),Ne=r(o(function(e,t){t.__esModule=!0;var r=i(F),o=i(C);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e,t){return function(i){var a=(0,n.createFactory)(i),c=function(e){function n(){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=o=u(this,e.call.apply(e,[this].concat(a))),o.getChildContext=function(){return t(o.props)},u(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.render=function(){return a(this.props)},n}(n.Component);return c.childContextTypes=e,"production"!==process.env.NODE_ENV?(0,r.default)((0,o.default)(i,"withContext"))(c):c}}})),Ie=Object.prototype.hasOwnProperty;function Ae(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var Re=function(e,t){if(Ae(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Ie.call(t,n[o])||!Ae(e[n[o]],t[n[o]]))return!1;return!0},$e=o(function(e,t){t.__esModule=!0;var n,r=(n=Re)&&n.__esModule?n:{default:n};t.default=r.default});r($e);var De=j(r(o(function(e,t){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(F),i=c(C),u=c($e),a=c(A);function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e,t){return function(c){var f=(0,n.createFactory)(c),l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=s(this,e.call.apply(e,[this].concat(i))),p.call(r),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=e!==this.props,r=!(0,u.default)(t,this.state);return n||r},t.prototype.render=function(){return f(r({},this.props,this.state,this.stateUpdaters))},t}(n.Component),p=function(){var n=this;this.state="function"==typeof e?e(this.props):e,this.stateUpdaters=(0,a.default)(t,function(e){return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&"function"==typeof t.persist&&t.persist(),n.setState(function(n,r){return e(n,r).apply(void 0,[t].concat(o))})}})};return"production"!==process.env.NODE_ENV?(0,o.default)((0,i.default)(c,"withStateHandlers"))(l):l}}}))({currentFocusPath:Ce.getCurrentFocusedPath()},{setFocus:function(e){var t=e.currentFocusPath;return function(e,n){var r=n||e;if(t!==r)return Ce.setCurrentFocusedPath(r),{currentFocusPath:r}}}}),Ne({setFocus:S.func,currentFocusPath:S.string},function(e){return{setFocus:e.setFocus,currentFocusPath:e.currentFocusPath}}),k({componentDidMount:function(){Ce.init(this.props.setFocus)},componentDidUpdate:function(){Ce.init(this.props.setFocus)},componentWillUnmount:function(){Ce.destroy()}}));e.withFocusable=ke,e.withNavigation=De,Object.defineProperty(e,"__esModule",{value:!0})});
